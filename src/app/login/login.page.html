<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button color="primary">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button routerLink="/inscription">S'inscrire</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="main">
  <div id="header">
    <h1>Login</h1>
    <img src="assets/logo.jpg" />
  </div>

  <form id="form"  [formGroup]="userForm" (ngSubmit)="signIn(userForm.value)">
    <ion-item>
      <!-- <ion-input placeholder="login" type="email" formControlName="email"></ion-input> -->
      <!-- <ion-input></ion-input> -->

        <ion-icon name="mail-outline"></ion-icon>
        <ion-input type="email" formControlName="email" placeholder="login"></ion-input>
    


    </ion-item>

    <ng-container *ngFor="let error of error_msg.email">
      <div *ngIf="userForm.get('email').hasError(error.type) && (userForm.get('email').dirty || userForm.get('email').touched)">
        {{ error.message }}
      </div>
    </ng-container>
  
    <ion-item>
      <!-- <ion-input type="password" placeholder="Password"></ion-input> -->
      <ion-icon name="bag-remove-outline"></ion-icon>
      <ion-input name="password" [type]="showPassword ? 'text' : 'password'" formControlName="password" class="form-controll" placeholder="password" required></ion-input>
      <ion-icon slot="end" [name]="passwordToggleIcon" (click)="togglePassword()"></ion-icon>
    </ion-item>

    <ng-container *ngFor="let error of error_msg.password">
      <div *ngIf="userForm.get('password').hasError(error.type) && (userForm.get('password').dirty || userForm.get('password').touched)">
        {{ error.message }}
      </div>
  </ng-container>

  <!-- <ion-button expand="block" shape="round" [disabled]="!userForm.valid" >connexion</ion-button> -->
  <ion-button type="submit" expand="block" [disabled]="!userForm.valid" type="submit">Connexion</ion-button>


  <label class="ion-text-center" color="danger">{{errorMsg}}</label>
  </form>
  <p class="ion-text-center">Si vous avez oublier votre mot de passe,<a (click)="goToMdp()">Cliquer ici</a></p>
</ion-content>

